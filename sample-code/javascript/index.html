<!DOCTYPE html>
<html>
<head>
    <title>VC4A API Client Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script type="text/javascript" src="gmaps.js"></script>
    <style>
        #map { width:600px; height:500px;}
    </style>
</head>
<body>
    <div class="navbar">
        <div class="navbar-inner">
            <a class="brand" href="#">VC4A API Client Demo</a>
        </div>
    </div>
    <div id="main" class="container">
        <div id="content">
            <h1>Ventures in Nigeria</h1>
            <div id="map"></div>
            <h3>API Call</h3>
            dataType: JSON<br />
            url: https://api.vc4africa.biz/v1/ventures/search.json?country=nigeria&limit=200<br />
            type: GET<br />
        </div>
        
    </div>
    <script type="text/javascript">
    $(document).ready(function() {

        var map = new GMaps({
            div: '#map',
            lat: 9.072264,
            lng: 7.491302,
            zoom: 6
          });

        $.ajax({
            dataType: "json",
            url: "https://api.vc4africa.biz/v1/ventures/search.json?country=nigeria&limit=200",
            type: "GET",
            success: function(data){        
                //console.log(data);
                $.each(data, function() {
                    $.each(this, function(index, value) {
                        map.addMarker({
                        lat: this.latitude,
                        lng: this.longitude,
                        infoWindow: {
                            content: this.title
                            }                            
                        })
                    });
                });
            },
            error: function (xhr, ajaxOptions, thrownError) {
            alert(xhr.status);
            alert(thrownError);
            }
        });

    });

    </script>
</body>
</html>